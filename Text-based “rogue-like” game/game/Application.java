package game;

import java.util.Arrays;
import java.util.List;

import edu.monash.fit2099.engine.*;
import game.enums.Abilities;
import game.enums.LastBonFire;
import game.enums.Status;
import jdk.jshell.execution.LoaderDelegate;

/**
 * The main class that runs Dark Souls 3 Rouge game.
 * @author Ng Kai Yi
 * @author Jerrold Wong Youn Zhuet
 * @version 2
 */

public class Application {

	public static void main(String[] args) {

		World world = new World(new Display());
		FancyGroundFactory groundFactory = new FancyGroundFactory(new Dirt(), new Wall(), new Floor(), new Valley(),
				new Cemetery(), new FogDoor(), new Chest());

		List<String> ProfaneCapital = Arrays.asList(
				"..++++++..+++...........................++++......+++.................+++.......",
				"........+++++..............................+++++++.................+++++........",
				"...........+++.......................................................+++++......",
				"...........................................................C............++......",
				"...C.....................................................................+++....",
				"............................+.............................................+++...",
				".............................+++.......++++.....................................",
				".............................++.......+......................++++...............",
				".............................................................+++++++............",
				"..................................###___###...................+++...............",
				"..................................#_______#......................+++............",
				"...........++.....................#_______#.......................+.............",
				".........+++......................#_______#.............C..........++...........",
				"............+++...................####_####..........................+..........",
				"..............+......................................................++.........",
				"..............++......................+..........+...............++++++.........",
				"............+++...................................................++++..........",
				"+..................................................................++...........",
				"++...+++...............C.........................................++++...........",
				"+++......................................+++........................+.++........",
				"++++.......++++.........................++.........................+....++......",
				"#####___#####++++......................+...............................+..+.....",
				"_..._....._._#.++......................+.................C.................+....",
				"...+.__..+...#+++...........................................................+...",
				"...+.....+._.#.+.....+++++...++..............................................++.",
				"___.......___#.++++++++++++++.+++.....=.......................................++");

		List<String> AnorLondo = Arrays.asList(
				"..........+++.........................=...++......+++.................+++.......",
				"........+++++..............................+++++++.................+++++........",
				"...........+++.......................................................+++++......",
				"...........................................................C............++......",
				"...C.....................................................................+++....",
				"............................+.............................................+++...",
				"..............?.................................................................",
				".............................++.......+......................++++...............",
				"...................................................?.........+++++++............",
				"...........?..................................................+++...............",
				".................................................................+++............",
				"...........++.....................................................+.............",
				".........+++............................................C..........++...........",
				"............+++..............##___########################...........+..........",
				"..............+..............#..............._...#.......#...........++.........",
				"..............++.............#....#..#.............+..#..#.......++++++.........",
				"............+++..............#...........................#........++++..........",
				"+............................#....#...................#..#.........++...........",
				"++...+++........?......C.....#...........................#.......++++...........",
				"+++..........................#..........#..........__....#..........+.++........",
				"...........++++..............##___########################.........+....++......",
				".......................................................................+..+.....",
				".........................................................C.................+....",
				"..............+++...........................................................+...",
				"...............+.....+++++...++..............................................++.",
				"..............++++++++++++++.+++..............................................++");


		GameMap gameMap = new GameMap(groundFactory, ProfaneCapital);
		world.addGameMap(gameMap);
		GameMap gameMap1 = new GameMap(groundFactory, AnorLondo);
		world.addGameMap(gameMap1);

		FogDoor fogDoor = new FogDoor();
		fogDoor.addAction(new MoveActorAction(gameMap1.at(38, 0), "into Anor Londo"));
		gameMap.at(38, 25).setGround(fogDoor);

		FogDoor fogDoor1 = new FogDoor();
		fogDoor1.addAction(new MoveActorAction(gameMap.at(38, 25), "into Firelink Shrine"));
		gameMap1.at(38,0).setGround(fogDoor1);

		Actor player = new Player("Unkindled (Player)", '@', 9001);
		//38, 12
		world.addPlayer(player, gameMap.at(38, 12));
//		world.addPlayer(player, gameMap1.at(43, 12));


		// Place Yhorm the Giant/boss in the map
		YhormTheGiant yhormTheGiant = new YhormTheGiant("Yhorm the Giant", gameMap, 6, 25);
		gameMap.at(6, 25).addActor(yhormTheGiant);
		AldrichTheDevourer aldrichTheDevourer = new AldrichTheDevourer("Aldrich The Destroyer", gameMap1, 43, 16);
		gameMap1.at(43, 16).addActor(aldrichTheDevourer);

		// Place a Hollow in the the map
		//FIXME: the Undead should be generated from the Cemetery
		gameMap.at(20, 10).addActor(new Skeleton("Skeleton", gameMap, 20, 10));
		gameMap.at(14, 11).addActor(new Skeleton("Skeleton", gameMap, 14, 11));
		gameMap.at(48, 13).addActor(new Skeleton("Skeleton", gameMap, 48, 13));
		gameMap.at(40, 2).addActor(new Skeleton("Skeleton", gameMap, 40, 2));
		gameMap.at(30, 3).addActor(new Skeleton("Skeleton", gameMap, 30, 3));
		gameMap.at(39, 19).addActor(new Skeleton("Skeleton", gameMap, 31, 19));
		gameMap.at(37, 11).addActor(new FireKeeper(player));
		gameMap.at(7, 25).addItem(new StormRuler(Abilities.CHARGE));
		gameMap.at(38, 11).setGround(new FireLinkShrineBonFire(gameMap.at(38, 11)));
		gameMap1.at(38, 11).setGround(new AnorLondoBonfire(gameMap1.at(38, 11)));
		world.run();
	}
}
